\documentclass[english,a4paper,11pt,twoside,openright]{book}
\input{preamble}

\begin{document}
%\pagecolor{gray!30}
\include{cover_page}
\cleardoublepage
% For proof reading
%\onehalfspacing
%\doublespacing

% Give the prebody numbering.
\pagenumbering{roman} 
\setcounter{page}{1}

% Table of contents page.
\begin{normalsize}
	{\tableofcontents
    \let\cleardoublepage\clearpage
	\clearpage
%	 List of figures.

	\listoffigures
	\markboth{List of figures}{List of figures}
%	\clearpage
%	 List of tables.
	\listoftables
	\markboth{List of tables}{List of tables}
	\markboth{Contents}{Contents} % Only when we bring in the figures and tables to follow the contents.
	\clearpage
	\lstlistoflistings
	\addcontentsline{toc}{chapter}{List of codes}
	\clearpage
    \listofalgorithmes
    \clearpage
%	 List of things to do.
	\listoftodos
	\addcontentsline{toc}{chapter}{Todo list}
	\markboth{Todo list}{Todo list}
	\clearpage}
\end{normalsize}

\include{seealsos} %Its useful to have these all in one place. 

% Add in the nice preamble sections.
\include{acknowledgements}
\include{abbreviations} 
\include{abstract}

% new page numbering for the main body.
\cleardoublepage % Double page as page numbering starts at 1.
\setcounter{section}{0}
\pagenumbering{arabic}


% Add in the main sections or chapters of the work.
\cleardoublepage
\part{Preliminaries}
\label{part:preliminaries}
	\include{introduction}

\cleardoublepage
\part{Something interesting}
\label{part:vectorised_arithmetic}

\cleardoublepage
\part{Further applications}
\label{part:further_applications}
	\include{conclusions}

% new page numbering for after the main body.
\cleardoublepage % Double page as page numbering starts at I (1).
\pagenumbering{Roman}

%\singlespacing
% Add the bibliography.
\cleardoublepage
\begin{small}
%	\nocite{*} % publishes any unused references.
	\bibliography{references}
\end{small}
\clearpage

%% Add the appendices.
\appendix
\include{appendices} % This just gives a nice title for the table of contents.
\include{existing_software}
%% Add in the sections for the appendices here.
\cleardoublepage

% Make the index.
\thispagestyle{empty} %removes both header and footer for the index also. 
\begin{footnotesize}	
	\printindex
\end{footnotesize}
\clearpage

\end{document}

